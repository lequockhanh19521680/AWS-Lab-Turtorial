# TEST ENVIRONMENT CONFIGURATION
NODE_ENV=test
ENVIRONMENT=test

# Database Configuration - RDS for Test
DB_HOST=what-if-generator-test-postgres.cluster-xxx.region.rds.amazonaws.com
DB_PORT=5432
DB_NAME=what_if_test
DB_USER=postgres
DB_PASSWORD={{resolve:secretsmanager:what-if-generator-test/database:SecretString:password}}

# DynamoDB Configuration - Shared with Prod
DYNAMODB_REGION=us-east-1
DYNAMODB_ENDPOINT=
AWS_DYNAMODB_PREFIX=what-if-generator-shared

# Redis Configuration
REDIS_HOST=what-if-generator-test-redis.cluster.cache.amazonaws.com
REDIS_PORT=6379
REDIS_URL=redis://what-if-generator-test-redis.cluster.cache.amazonaws.com:6379

# JWT and Security
JWT_SECRET={{resolve:secretsmanager:what-if-generator-test/jwt:SecretString:secret}}
JWT_EXPIRY=24h
BCRYPT_ROUNDS=12

# External API Keys
GEMINI_API_KEY={{resolve:secretsmanager:what-if-generator-test/api-keys:SecretString:gemini}}
RUNWAY_API_KEY={{resolve:secretsmanager:what-if-generator-test/api-keys:SecretString:runway}}
PIKA_API_KEY={{resolve:secretsmanager:what-if-generator-test/api-keys:SecretString:pika}}
STABILITY_API_KEY={{resolve:secretsmanager:what-if-generator-test/api-keys:SecretString:stability}}
GOOGLE_CLOUD_PROJECT_ID={{resolve:secretsmanager:what-if-generator-test/gcp:SecretString:project_id}}

# Service URLs
USER_SERVICE_URL=http://user-service.what-if-generator-test.local:3001
GENERATION_SERVICE_URL=http://generation-service.what-if-generator-test.local:3002
HISTORY_SERVICE_URL=http://history-service.what-if-generator-test.local:3003
SHARING_SERVICE_URL=http://sharing-service.what-if-generator-test.local:3004
VIDEO_SERVICE_URL=http://video-service.what-if-generator-test.local:3005
SOCIAL_SERVICE_URL=http://social-service.what-if-generator-test.local:3006
API_GATEWAY_URL=http://api-gateway.what-if-generator-test.local:3000

# Frontend Configuration
FRONTEND_PORT=8080
FRONTEND_URL=https://test.whatifgenerator.com
API_BASE_URL=https://api-test.whatifgenerator.com
CORS_ORIGIN=https://test.whatifgenerator.com

# Email Configuration
SMTP_HOST={{resolve:secretsmanager:what-if-generator-test/email:SecretString:smtp_host}}
SMTP_PORT={{resolve:secretsmanager:what-if-generator-test/email:SecretString:smtp_port}}
SMTP_USER={{resolve:secretsmanager:what-if-generator-test/email:SecretString:smtp_user}}
SMTP_PASS={{resolve:secretsmanager:what-if-generator-test/email:SecretString:smtp_pass}}
FROM_EMAIL=noreply-test@whatifgenerator.com

# S3 Configuration
S3_BUCKET=what-if-generator-test-uploads
S3_REGION=us-east-1

# Logging
LOG_LEVEL=info
LOG_FORMAT=combined

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200

# Session Configuration
SESSION_SECRET={{resolve:secretsmanager:what-if-generator-test/session:SecretString:secret}}
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_MAX_AGE=86400000

# Auto Seed Configuration
AUTO_SEED=true
SEED_ADMIN_EMAIL=admin@whatifgenerator.com
SEED_ADMIN_PASSWORD={{resolve:secretsmanager:what-if-generator-test/seed:SecretString:admin_password}}