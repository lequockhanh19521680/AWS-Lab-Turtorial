# What If Generator - Production Environment Configuration
# This file contains production environment settings for AWS deployment

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
APP_NAME=what-if-generator
APP_VERSION=1.0.0

# =============================================================================
# SERVICE PORTS (FIXED - DO NOT CHANGE)
# =============================================================================
API_GATEWAY_PORT=3000
USER_SERVICE_PORT=3001
GENERATION_SERVICE_PORT=3002
HISTORY_SERVICE_PORT=3003
SHARING_SERVICE_PORT=3004
VIDEO_SERVICE_PORT=3005
SOCIAL_SERVICE_PORT=3006
FRONTEND_PORT=3007

# =============================================================================
# AWS DATABASE CONFIGURATION
# =============================================================================

# AWS RDS PostgreSQL
RDS_POSTGRES_HOST=what-if-generator-prod-postgres.cluster-xxxxx.us-east-1.rds.amazonaws.com
RDS_POSTGRES_PORT=5432
RDS_POSTGRES_DB=what_if_users
RDS_POSTGRES_USER=postgres
RDS_POSTGRES_PASSWORD=

# DynamoDB AWS
DYNAMODB_REGION=us-east-1

# AWS ElastiCache Redis
ELASTICACHE_REDIS_HOST=what-if-generator-prod-redis.cache.amazonaws.com
ELASTICACHE_REDIS_PORT=6379
ELASTICACHE_REDIS_PASSWORD=

# =============================================================================
# SERVICE URLS (INTERNAL ECS COMMUNICATION)
# =============================================================================
USER_SERVICE_URL=http://user-service.what-if-generator:3001
GENERATION_SERVICE_URL=http://generation-service.what-if-generator:3002
HISTORY_SERVICE_URL=http://history-service.what-if-generator:3003
SHARING_SERVICE_URL=http://sharing-service.what-if-generator:3004
VIDEO_SERVICE_URL=http://video-service.what-if-generator:3005
SOCIAL_SERVICE_URL=http://social-service.what-if-generator:3006

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
FRONTEND_URL=https://whatifgenerator.com
REACT_APP_API_URL=https://api.whatifgenerator.com
REACT_APP_ENVIRONMENT=production

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
JWT_SECRET=production-jwt-secret-from-aws-secrets-manager
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# AI PROVIDERS
# =============================================================================
AI_PROVIDER=gemini
GEMINI_API_KEY=
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# =============================================================================
# VIDEO SERVICE PROVIDERS
# =============================================================================
GOOGLE_CLOUD_PROJECT_ID=
RUNWAY_API_KEY=
PIKA_API_KEY=
STABILITY_API_KEY=

# =============================================================================
# AWS CONFIGURATION
# =============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# S3 Configuration
S3_BUCKET=what-if-generator-prod-assets
S3_REGION=us-east-1

# CloudWatch Configuration
CLOUDWATCH_GROUP=what-if-generator-prod
CLOUDWATCH_STREAM=api-gateway

# =============================================================================
# FEATURE FLAGS (Production)
# =============================================================================
ENABLE_VIDEO_GENERATION=true
ENABLE_TTS=true
ENABLE_SOCIAL_FEATURES=true
ENABLE_ANALYTICS=true
ENABLE_DEBUG_MODE=false
ENABLE_SWAGGER_UI=false
ENABLE_API_DOCS=false
ENABLE_METRICS=true
ENABLE_TRACING=true

# =============================================================================
# RATE LIMITING (Strict for production)
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# =============================================================================
# FILE MANAGEMENT
# =============================================================================
MAX_FILE_SIZE_MB=50
CLEANUP_INTERVAL_HOURS=6
UPLOAD_PATH=/tmp/uploads
OUTPUT_PATH=/tmp/outputs

# =============================================================================
# LOGGING (Optimized for production)
# =============================================================================
LOG_LEVEL=info
LOG_REQUESTS=true
LOG_ERRORS=true
LOG_DIR=/var/log/what-if-generator

# =============================================================================
# CORS & SECURITY (Strict for production)
# =============================================================================
CORS_ORIGIN=https://whatifgenerator.com
CORS_CREDENTIALS=true
ALLOWED_ORIGINS=https://whatifgenerator.com,https://api.whatifgenerator.com

# Security Headers (Full protection)
HELMET_CSP_ENABLED=true
HELMET_HSTS_ENABLED=true
HELMET_NO_SNIFF=true
HELMET_XSS_FILTER=true

# =============================================================================
# HEALTH CHECK & MONITORING
# =============================================================================
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_ITEMS=1000

# Metrics Configuration
METRICS_PORT=9090
TRACE_SAMPLE_RATE=0.1

# X-Ray Configuration
XRAY_ENABLED=true
XRAY_SAMPLE_RATE=0.05

# CloudTrail Configuration
CLOUDTRAIL_ENABLED=true

# CDN Configuration
CDN_URL=https://cdn.whatifgenerator.com
STATIC_ASSETS_URL=https://assets.whatifgenerator.com

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@whatifgenerator.com

# =============================================================================
# PAYMENT CONFIGURATION
# =============================================================================
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=